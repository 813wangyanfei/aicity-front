{"version":3,"sources":["webpack:///E:/uni-appProjects/aicity-front/components/tabBar/discovery.vue?6f8b","webpack:///E:/uni-appProjects/aicity-front/components/tabBar/discovery.vue?a0d3","webpack:///E:/uni-appProjects/aicity-front/components/tabBar/discovery.vue?f443","webpack:///E:/uni-appProjects/aicity-front/components/tabBar/discovery.vue?59a5","webpack:///E:/uni-appProjects/aicity-front/components/tabBar/discovery.vue","webpack:///E:/uni-appProjects/aicity-front/components/tabBar/discovery.vue?8abc","webpack:///E:/uni-appProjects/aicity-front/components/tabBar/discovery.vue?347b"],"names":["app","getApp","QQMapWX","require","qqmapsdk","key","props","tipText","type","String","default","descText","data","date","title","mapH","longitude","latitude","marker","id","iconPath","rotate","width","height","alpha","label","content","color","callout","fontSize","borderRadius","bgColor","display","scale","polyline","points","dottedLine","arrowLine","mounted","getLocation","initMapH","methods","ontrueGetList","user","today","Date","getFullYear","getMonth","getDate","uni","setNavigationBarColor","frontColor","backgroundColor","setNavigationBarTitle","userInfo","getStorageSync","uniRequest","post","userId","then","res","code","console","log","catch","error","navigateTo","url","lower","showToast","DateChange","e","detail","value","this_","geocode","success","initMap","fail","icon","getAddressName","myAddress","addressObj","Object","assign","address","lon","checkMap","mapChange","that","clearTimeout","timer","setTimeout","mapCtx","createMapContext","getCenterLocation","err","Promise","KEY","locationObj","$jsonp","location","result","formatted_addresses","recommend","getSystemInfoSync","windowHeight","toMyLocation","submitAdress","controls","$emit"],"mappings":"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","file":"components/tabBar/discovery.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./discovery.vue?vue&type=template&id=4f53c9f7&\"\nvar renderjs\nimport script from \"./discovery.vue?vue&type=script&lang=js&\"\nexport * from \"./discovery.vue?vue&type=script&lang=js&\"\nimport style0 from \"./discovery.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni-appProjects/aicity-front/components/tabBar/discovery.vue\"\nexport default component.exports","export * from \"-!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discovery.vue?vue&type=template&id=4f53c9f7&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discovery.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discovery.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uniRequest from 'uni-request';\nconst app = getApp()\nvar QQMapWX = require('../mi-map/qqmap-wx-jssdk.min.js')\nvar qqmapsdk = new QQMapWX({\n  key: 'LXCBZ-NNIKD-UZ64F-H6AFI-UNJLH-OCFGE'\n})\nexport default {\n\tprops: {\n\t\ttipText: {\n\t\t\ttype: String,\n\t\t\tdefault: '选择位置'\n\t\t},\n\t\tdescText: {\n\t\t\ttype: String,\n\t\t\tdefault: '使用当前定位或在地图上标记位置'\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdate: '',\n\t\t\ttitle: 'map',\n\t\t\tmapH: 0,             // 地图高度，可在initMapH()中设置高度\n\t\t\tlongitude: 0,        // 初始经度\n\t\t\tlatitude: 0,         // 初始纬度\n\t\t\tmarker: [{\n\t\t\t   　　id:0,\n\t\t\t   　　latitude: 34.722464,//纬度\n\t\t\t   　　longitude: 113.638352,//经度\n\t\t\t   　　iconPath: '',    //显示的图标        \n\t\t\t   　　rotate:0,   // 旋转度数\n\t\t\t   　　width:20,   //宽\n\t\t\t   　　height:20,   //高\n\t\t\t  　　 title:'你在哪了',//标注点名\n\t\t\t  　　 alpha:0.5,   //透明度\n\t\t\t  　　 label:{//为标记点旁边增加标签   //因背景颜色H5不支持\n\t\t\t  　　 content:'唐山迁安',//文本\n\t\t\t　　　 color:'red',//文本颜色\n\t\t\t   },\n\t\t\t   callout:{//自定义标记点上方的气泡窗口 点击有效  \n\t\t\t   　　content:'位置信息',//文本\n\t\t\t   　　color:'#ffffff',//文字颜色\n\t\t\t   　　fontSize:14,//文本大小\n\t\t\t   　　borderRadius:2,//边框圆角\n\t\t\t  　　 bgColor:'#00c16f',//背景颜色\n\t\t\t   　　display:'ALWAYS',//常显\n\t\t\t   },\n\t\t\t   }],\n\t\t\t   scale:16,  //地图缩放程度\n\t\t\t/* controls: [           // 地图中心点图标, 可更换iconPath, 详情见官方文档关于map组件的介绍\n\t\t\t\t{\n\t\t\t\t\ticonPath: '../../static/img/map/position.png',\n\t\t\t\t\tposition: { \n\t\t\t\t\t\tleft: 175,\n\t\t\t\t\t\ttop: 210,\n\t\t\t\t\t\twidth: 30, \n\t\t\t\t\t\theight: 30,\n\t\t\t\t\t},\n\t\t\t\t\tclickable: false\n\t\t\t\t}\n\t\t\t], */\n\t\t\t/* circles:[{//在地图上显示圆\n\t\t\t\t\t\t\t\tlatitude: 34.722464,\n\t\t\t\t\t\t\t\tlongitude: 113.638352,\n\t\t\t\t\t\t\t\tfillColor:\"#FFC41F\",//填充颜色\n\t\t\t\t\t\t\t\tcolor:\"#12A1DD\",//描边的颜色\n\t\t\t\t\t\t\t\tradius:500,//半径\n\t\t\t\t\t\t\t\tstrokeWidth:2//描边的宽度\n\t\t\t\t\t\t\t}], */\n\t\t\tpolyline:[{//指定一系列坐标点，从数组第一项连线至最后一项\n\t\t\t\tpoints:[\n\t\t\t\t\t{latitude: 34.722464,longitude: 113.638352},\n\t\t\t\t\t{latitude: 34.722648,longitude: 113.637944},\n\t\t\t\t\t{latitude: 34.722500,longitude: 113.638240},\n\t\t\t\t\t{latitude: 34.722568,longitude: 113.637784},\n\t\t\t\t\t{latitude: 34.722852,longitude: 113.637464}\n\t\t\t\t],\n\t\t\t\tcolor:\"#0000AA\",//线的颜色\n\t\t\t\twidth:3,//线的宽度\n\t\t\t\tdottedLine:true,//是否虚线\n\t\t\t\tarrowLine:true,\t//带箭头的线 开发者工具暂不支持该属性\n\t\t\t}],\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.getLocation()\n\t\tthis.initMapH()\n\t},\n\tmethods:{\n\t\tontrueGetList(){\n\t\t\tvar user;\n\t\t\tvar today = new Date();\n\t\t\tthis.date = today.getFullYear()+\"-\"+(today.getMonth()+1)+\"-\"+today.getDate();\n\t\t\tuni.setNavigationBarColor({\n\t\t\t    frontColor: '#000000',\n\t\t\t    backgroundColor: '#ffffff'\n\t\t\t})\n\t\t\tuni.setNavigationBarTitle({\n\t\t\t    title: '地图'\n\t\t\t});\n\t\t\t//判断用户是否已经登录过\n\t\t\tvar userInfo = uni.getStorageSync('userInfo');\n\t\t\tif(userInfo){\n\t\t\t\tuniRequest.post('/api/getPersonGPSData',{\n\t\t\t\t        userId: userInfo.userId\n\t\t\t\t      }).then(function(res){\n\t\t\t\t\t\t  var code = res.data.code;\n\t\t\t\t\t\t  //获取数据成功\n\t\t\t\t\t\t  if(code == \"0\"){\n\t\t\t\t\t\t\t  this.marker = res.data.data;\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t  console.log(res)\n\t\t\t\t\t\t  console.log(code);\n\t\t\t\t\t\t  \n\t\t\t\t       }).catch(function (error) {\n\t\t\t\t          console.log(error);\n\t\t\t\t       });\n\t\t\t}else{\n\t\t\t\tconsole.log(\"获取本地storage失败.......\")\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '../../pages/login/login'\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tlower(){\n\t\t\tuni.showToast({\n\t\t\t\ttitle:'scroll-view的加载更多'\n\t\t\t})\n\t\t\tconsole.log(\"分页数据可以放这里~~~~~~嘿嘿\")\n\t\t},\n\t\tDateChange(e) {\n\t\t\tthis.date = e.detail.value\n\t\t},\n\t\t// 查询现在的位置\n\t\tgetLocation() {\n\t\t\tlet this_ = this\n\t\t\tuni.getLocation({\n\t\t\t\t// type: 'gcj02', // 返回国测局坐标\n\t\t\t\tgeocode: true,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tthis_.initMap(res)\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t},\n\t\t\t\tfail: function(e) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '获取地址失败, 请检查是否开启定位权限~~'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 初始化我的位置\n\t\tasync initMap(res) {\n\t\t\tthis.longitude = res.longitude;\n\t\t\tthis.latitude = res.latitude;\n\t\t\tthis.myAddress = await this.getAddressName(res);\n\t\t\t\n\t\t\tthis.addressObj = Object.assign({}, this.addressObj,{\n\t\t\t\tlongitude: res.longitude,\n\t\t\t\tlatitude: res.latitude,\n\t\t\t\taddress: this.myAddress\n\t\t\t})\n\t\t\tconsole.log(\"我的位置是：lat:\"+this.latitude+\"lon:\"+this.lon)\n\t\t},\n\t\t\n\t\t// 地图选择位置后 查询地点名称\n\t\tasync checkMap(res) {\n\t\t\tthis.addressObj = Object.assign({}, this.addressObj,{\n\t\t\t\tlongitude: res.longitude,\n\t\t\t\tlatitude: res.latitude,\n\t\t\t\taddress: await this.getAddressName(res)\n\t\t\t})\n\t\t\tconsole.log('当前位置:' + res.latitude + '|' + res.longitude);\n\t\t},\n\t\t\n\t\t// 监听地图位置变化\n\t\tmapChange(e) {\n\t\t\tlet that = this\n\t\t\tclearTimeout(this.timer)\n\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\tif (e.type == 'end') {\n\t\t\t\t\tthat.mapCtx = uni.createMapContext('map', this)\n\t\t\t\t\tthat.mapCtx.getCenterLocation({\n\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\tthis.checkMap(res)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: err => {\n\t\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}, 200)\n\t\t},\n\t\t// 查询地图中心点的名称\n\t\tgetAddressName(addressObj) {\n\t\t\t\n\t\t\treturn new Promise((res) => {\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\t\n\n\t\t\t\t\t// ======================== jsonp跨域 ======================== \n\t\t\t\t\tconst KEY = 'LXCBZ-NNIKD-UZ64F-H6AFI-UNJLH-OCFGE'\n\t\t\t\t\tlet locationObj = addressObj.latitude+','+addressObj.longitude\n\t\t\t\t\tlet url = 'https://apis.map.qq.com/ws/geocoder/v1?coord_type=5&get_poi=1&output=jsonp&poi_options=page_size=1;page_index=1';\n\t\t\t\t\tthis.$jsonp(url,{\n\t\t\t\t\t  key: KEY,\n\t\t\t\t\t  location: locationObj\n\t\t\t\t\t}).then(e => {\n\t\t\t\t\t\tres(e.result.formatted_addresses.recommend);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tres(err);\n\t\t\t\t\t})\n\n\t\t\t\t\n\t\t\t\t\n\t\t\t})\n\t\t\t\n\t\t},\n\t\t// 计算地图的高度\n\t\tinitMapH() {\n\n\n\n\n\t\t\t\tthis.mapH = uni.getSystemInfoSync().windowHeight;\n\n\t\t},\n\t\t// 移动到我的位置\n\t\ttoMyLocation() {\n\t\t\tthis.getLocation()\n\t\t},\n\t\t// 提交\n\t\tsubmitAdress() {\n\t\t\tthis.controls = []\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.$emit('updateAddress', this.addressObj)\n\t\t\t}, 100)\n\t\t}\n\t},\n}\n\n","import mod from \"-!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discovery.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discovery.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1586254107464\n      var cssReload = require(\"E:/soft/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}